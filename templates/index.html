<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
    <link rel="stylesheet" href="static/css/style.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="static/js/intro.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script type="text/javascript" src="static/js/graph.js"></script>

</head>
<body>
    <div class="container-fluid">
        <div class="row header">
            <div class="col-md-offset-2 col-md-8">
                <h1>Teachta Dála (TD'S) 2017</h1>
                <p id="sub_heading" >Irish politicans in Dáil Éireann by Age, Gender, Party, Ethnicity and Constituency.<br> Download original data set <a href="#">here</a> </p>
               <a href="javascript:dc.filterAll(); dc.renderAll();"><button>Reset All </button></a>
                
               <button class="intro_button" type="button" autofocus href="javascript:void(0);" onclick="javascript:introJs().start();" >Start Tour!</button>

                </div>
                <div class="col-md-2">
                    <img class="logo" src="static/assets/harp.png"></img>
                    
                </div>
            
        </div>
      
        
        <div class="row">
            <div class="col-xs-12 col-md-3 col-lg-4 box">
                <h2>Gender in %</h2>
                
                <div  id="chart1" data-step="1" data-intro="Gender of Teachta Dála by percentage. There is 36 (23%) Female TD's and 121 (77%) Male TD's." style="font-weight: normal" data-position="right"></div>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4 box">
                    <h2>No. of Td's in Constituency</h2>
                <div  id="test" data-step="2" data-intro="Number of seats in a constituency. Filter to show No. of Td's." style="font-weight: normal" data-position="right"></div>
                </div>
                <div class="col-xs-12 col-md-3 col-lg-4 box">
                    <h2>No. of Td's in Parties</h2>
                    <div id="chart_d" data-step="3" data-intro="Number of Td's in a party. Filter to show individual parties." style="font-weight: normal" data-position="right"></div>
                    

                </div>
                
        </div>
        <div class="row">
            <div class="col-md-4">
                <h2>Ethnicity</h2>
               <div  id="chart4" data-step="4" data-intro="The current Dáil has a 100% caucasian demographic." style="font-weight: normal" data-position="right"></div>


            </div>
            <div class="col-md-4">
                <h2>Individual TD'S by Age and Gender </h2>
                <div  id="chart_s" data-step="5" data-intro="Individual TD's by Age and Party. The gender of each TD is shown by Male(Blue)/Female(Pink)" style="font-weight: normal" data-position="right"></div>
                
            </div>
            <div class="col-md-4 numbers" data-step="6" data-intro="This is the number section which shows Averages, Totals and Individuals." style="font-weight: normal" data-position="right">
                  <h2>Number Data </h2>
                <div  id="chart2"><p1>Number Of TD'S </p1></div><br>
                <div  id="chart3">Average Age </div><br>
                <div  id="chart6">Total Age </div><br>
                <div id="chart7">Number Of Constituencies </div>
                <div id="chart8">Number Of Parties </div>

                
            </div>
            
        </div>
          
        
     
        

    <script>
    // queue()
    //     .defer(d3.csv, "data/tds.csv")
    //     .await(makeGraphs);
        
    //      function makeGraphs(error, tdsData) {
             
    //         var ndx = crossfilter(tdsData);
    //         tdsData.forEach(function(d) {
    //             d.Age = parseInt(d.Age);
    //         })
        
    //         var gender_dim = ndx.dimension(dc.pluck('Gender'));
    //         var count = gender_dim.group();
        
    //         dc.barChart('#chart1')
    //             .height(300)
    //             .width(400)
    //             .margins({top:10, right:50, bottom:30, left:50})
    //             .dimension(gender_dim)
    //             .group(count)
    //             .valueAccessor(function(d){
    //                 return (d.value/158)*100
    //             })
                
    //             .transitionDuration(500)
    //             .renderHorizontalGridLines(true)
    //             .x(d3.scale.ordinal())
    //             .xUnits(dc.units.ordinal)
    //             .yAxisLabel("Number of TD'S")
    //             .yAxis().ticks(10);
                
        
    //      var number_of_tds = ndx.groupAll();
        
    //     dc.numberDisplay("#chart2")
    //         .formatNumber(d3.format("d"))
    //         .valueAccessor(function (d) {
    //             return (+d);
    //         })
    //         .group(number_of_tds);  
            
    //     var average_age_tds = ndx.groupAll().reduce(
    //         function (p, v) {
    //             ++p.count;
    //             p.total += v.Age;
    //             p.average = p.total / p.count;
    //             return p;
    //         },
    //         function (p, v) {
    //             --p.count;
    //             if (p.count === 0) {
    //                 console.log("Zero")
    //                 p.total = 0;
    //                 p.average = 0;
    //             } else {
    //                 p.total -= v.Age;
    //                 p.average = p.total / p.count;
    //             };
    //             return p;
    //         },
    //         function () {
    //             return {count: 0, total: 0, average: 0};
    //         }
    //     );
        
    //  dc.numberDisplay("#chart3")
    //         .formatNumber(d3.format(".2f"))
    //         .valueAccessor(function (d) {
                
    //             return (d.average);
    //         })
    //         .group(average_age_tds)
       
       
    //   var total_age = ndx.groupAll().reduceSum(dc.pluck('Age'));
       
    //     var chart = dc.numberDisplay("#chart6");
    //     chart
    //         .formatNumber(d3.format("d"))
    //         .valueAccessor(function (d) {
    //             return (+d);
    //         })
    //         .group(total_age)
            
            
    //           var gender_dim = ndx.dimension(dc.pluck('Ethnicty'));
    //         var count_by_rank = gender_dim.group();
            
    //         dc.barChart('#chart4')
    //             .height(300)
    //             .width(400)
    //             .margins({top:10, right:50, bottom:30, left:50})
    //             .dimension(gender_dim)
    //             .group(count_by_rank)
    //             .transitionDuration(500)
    //             .renderHorizontalGridLines(true)
    //             .x(d3.scale.ordinal())
    //             .xUnits(dc.units.ordinal)
    //             .yAxisLabel("Number of TD'S")
    //             .yAxis().ticks(10);
                
       
      
    //   var genderColors = d3.scale.ordinal()
    //   .domain(["F","M"])
    //   .range(["pink","blue"]);
      
    //     var party_dim = ndx.dimension(function(d){
    //         return [d.Party,d.Age, d.Gender, d.Name]
    //     });
        
    //     var group = party_dim.group();
    //     var age_dim = ndx.dimension(dc.pluck('Age'));
    //     var minAge = age_dim.bottom(1)[0].age;
    //     var maxAge = age_dim.top(1)[0].age;
        
    //     dc.scatterPlot("#chart_s")
    //     .width(400)
    //     .height(400)
    //     .x(d3.scale.ordinal())
    //     .xUnits(dc.units.ordinal)
    //     .brushOn(false)
    //     .symbolSize(8)
    //     .clipPadding(10)
    //     .yAxisLabel("Age")
    //     .xAxisLabel("Party")
    //     .title(function (d) {
    //         return d.key [3] + "(" + d.key[0] + ")";
    //     })
    //     .colorAccessor(function (d) {
    //         return d.key[2];
    //     })
    //     .colors(genderColors)
    //     .dimension(party_dim)
    //     .group(group)
    //     .margins({top:10, right:50, bottom:100, left:50})
        
    //      var partyname_dim = ndx.dimension(dc.pluck('Party'));
    //         var partyam = partyname_dim.group();
            
    //         dc.rowChart('#chart_d')
    //             .height(300)
    //             .width(500)
    //             .margins({top:10, right:50, bottom:30, left:50})
    //             .dimension(partyname_dim)
    //             .group(partyam)
                
    //             .transitionDuration(500)

    //     //   var consname_dim = ndx.dimension(dc.pluck('Constituency'));
    //     //     var cons_group = consname_dim.group().reduceSum();
        
    //     var constituency_dim = ndx.dimension(dc.pluck('Constituency'))
    //     var consname_count = constituency_dim.group().reduceCount(function(d) {
    //         return 0;
    //     });
            
            
    //     console.log(consname_count.all())
        
    //     dc.numberDisplay("#chart7")
    //         .formatNumber(d3.format("d"))
    //         .valueAccessor(function (d) {
    //             return (+d.count);
    //         })
    //         .group(consname_count);
               
    //     //       var chart = dc.numberDisplay("#chart7");
    //     // chart
    //     //     .formatNumber(d3.format("d"))
    //     //     .valueAccessor(function (d) {
    //     //         return (+d);
    //     //     })
    //     //     .group(cons_group)
        
        
       
  
    //       var runDimension  = ndx.dimension(dc.pluck('Constituency'));
    //   var speedSumGroup = runDimension.group();
    //   var chart = dc.pieChart("#test");
    //   var colorScale = d3.scale.ordinal().range(['#A2E2E3','#fb9867','#f3e7f3','#c4e8f1','#76ced3','#262626','#e0281e','#f9d6d4','#e13528','#ffdebc','#ffd1ab']);


      
      
    //   chart
    //       .width(600)
    //       .height(500)
    //       .slicesCap(47)
    //       .innerRadius(100)
    //       .externalLabels(40)
    //       .externalRadiusPadding(50)
    //       .drawPaths(true)
    //       .dimension(runDimension)
    //       .group(speedSumGroup)
    //       .colors(colorScale)
    //       .transitionDuration(1500);

   
             
                
                
            
    //      dc.renderAll();
    
    //              }
                 
                 
    </script>

</body>
</html>